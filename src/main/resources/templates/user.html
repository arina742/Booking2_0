<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: head"></head>
<body>
<div th:replace="fragments/header :: header"></div>

<main class="container">
    <h1>Личный кабинет</h1>

    <div th:if="${phoneNumber == null}" class="error">
        Ошибка: пользователь не авторизован.
    </div>

    <div class="user-info">
<!--        <h1>Пользователь</h1>-->
        <p th:text="${phoneNumber} ?: 'Номер не указан'">+7 912 345-67-89</p>
    </div>

    <table>
        <thead>
        <tr>
            <th>ID</th>
            <th>Дата и время</th>
            <th>Место</th>
            <th>Статус</th>
        </tr>
        </thead>
        <tbody>
        <tr th:if="${bookings == null or bookings.isEmpty()}">
            <td colspan="4">Нет активных бронирований</td>
        </tr>

        <tr th:each="booking : ${bookings}">
            <td th:text="'#' + ${booking.id}">#12345</td><td th:text="${#dates.format(booking.date, 'dd.MM.yyyy HH:mm')}">23.03.2002 14:30</td>
            <td th:text="${booking.object}">Рабочее место №5</td>
            <td th:text="${booking.status}">
            </td>
        </tr>
        </tbody>
    </table>
</main>

<div th:replace="fragments/footer :: footer"></div>
</body>
</html>