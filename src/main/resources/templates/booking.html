<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: head">
</head>

<body>
<div th:replace="fragments/header :: header"></div>

<main class="container">
  <div class="alert alert-success" id="successMessage" style="display: none;">
    Бронирование успешно создано!
  </div>

  <!-- Модальное окно для уведомлений -->
  <div class="modal-overlay" id="successModal">
    <div class="modal-content">
      <div class="modal-icon">✓</div>
      <h3 class="modal-title">Успешно!</h3>
      <p class="modal-message" id="modalMessage">Бронирование успешно создано!</p>
      <button class="modal-button" id="modalCloseBtn">OK</button>
    </div>
  </div>

  <div class="booking-section">
    <div class="auth-message" th:unless="${session.login != null}">
      <h3>Требуется авторизация</h3>
      <p>Для бронирования места необходимо <a th:href="@{/login}">войти</a> в систему</p>
    </div>


    <div class="left-indent">
      <h3>Доступные рабочие места</h3>

      <!-- Выбор даты -->
      <div class="date-picker">
        <label for="bookingDate">Выберите дату:</label>
        <input type="date" id="bookingDate" name="bookingDate" required>
      </div>
    </div>

    <div class="space-grid">
      <!-- Рабочее место -->
      <div class="space-card">
        <img th:src="@{/images/place2.jpeg}" class="space-img" alt="Рабочее место">
        <div class="space-body">
          <h4>Рабочее место</h4>
          <p>Открытая зона, монитор 24", розетки</p>
          <p class="price">200 ₽/час</p>

          <!-- Выбор диапазона времени -->
          <div class="time-range-selector">
            <h5>Выберите время:</h5>
            <div class="time-range-controls">
              <div>
                <label for="startTime">Начало:</label>
                <select id="startTime" class="time-input">
                  <option value="">-- Выберите --</option>
                  <!-- Опции будут заполняться динамически -->
                </select>
              </div>
              <div>
                <label for="endTime">Конец:</label>
                <select id="endTime" class="time-input" disabled>
                  <option value="">-- Надо выбрать начало --</option>
                </select>
              </div>
            </div>
            <div class="time-range-info" id="timeRangeInfo" style="display: none;">
              Вы выбрали: <span id="selectedRange"></span>
            </div>
          </div>

          <!-- Кнопка бронирования -->
          <button class="book-btn" id="bookBtn1">Забронировать</button>
        </div>
      </div>

      <!-- Переговорная -->
      <div class="space-card">
        <img th:src="@{/images/place3.jpeg}" class="space-img" alt="Переговорная">
        <div class="space-body">
          <h4>Переговорная</h4>
          <p>До 6 человек, телевизор, доска</p>
          <p class="price">1200 ₽/час</p>

          <!-- Выбор диапазона времени -->
          <div class="time-range-selector">
            <h5>Выберите время:</h5>
            <div class="time-range-controls">
              <div>
                <label for="startTime2">Начало:</label>
                <select id="startTime2" class="time-input">
                  <option value="">-- Выберите --</option>
                  <!-- Опции будут заполняться динамически -->
                </select>
              </div>
              <div>
                <label for="endTime2">Конец:</label>
                <select id="endTime2" class="time-input" disabled>
                  <option value="">-- Надо выбрать начало --</option>
                </select>
              </div>
            </div>
            <div class="time-range-info" id="timeRangeInfo2" style="display: none;">
              Вы выбрали: <span id="selectedRange2"></span>
            </div>
          </div>

          <!-- Кнопка бронирования -->
          <button class="book-btn" id="bookBtn2">Забронировать</button>
        </div>
      </div>
    </div>
  </div>
</main>

<div th:replace="fragments/footer :: footer"></div>
</body>
</html>